<?xml version="1.0" encoding="UTF-8"?>
<div class="templates:surround?with=templates/page.html&amp;at=content">
    <script src="$app-root/resources/js/tablesorter/js/jquery.tablesorter.js"/>
    <script src="$app-root/resources/js/tablesorter/js/jquery.tablesorter.widgets.js"/>
    <script src="$app-root/resources/js/tablesorter/js/jquery.tablesorter.pager.js"/>
    <link rel="stylesheet" type="text/css" href="$app-root/resources/js/tablesorter/css/theme.bootstrap.css"/>
    <link rel="stylesheet" type="text/css" href="$app-root/resources/js/tablesorter/css/jquery.tablesorter.pager.css"/>
    <script> $(function() { $("table").tablesorter({ theme : "bootstrap", widthFixed: false,
        headerTemplate : '{content} {icon}', widgets : [ "uitheme", "filter", "zebra" ], filter_cssFilter: "form-control", }) }); 
    </script>
    <h1 style="text-align:center;">
        <strong id="bestand"/>
        <br/>
        <small>
            <span id="amount"/> Dokumente
        </small>
    </h1>
    <table class="table table-striped table-condensed table-hover">
        <thead>
            <tr align="center" font-size="1.0em">
                <th class="header">
                    Date
                </th>
                <th>
                    Protokoll
                </th>
                <th>
                    Personen
                </th>
                <th>
                    zum Dokument
                </th>
            </tr>
        </thead>
        <tr data-template="app:toc"/>
    </table>
    <script>
        $( document ).ready(function() {
            var fetched_param = decodeURIComponent($.urlParam("bestand"));
            if (fetched_param == "autographen") {
                var selected_bestand = "Autographen Leo Thun/Briefe aus anderen Archiven";
                }
            else if (fetched_param == "nachlass") {
                var selected_bestand = "Nachlass Leo Thun";
                }
            else {
                var selected_bestand = "Gesamt√ºbersicht";
            }
            var filtered_rows = $("tr:visible").slice( 2 ) ;
            $('#bestand').text(selected_bestand);
            $('#amount').text(filtered_rows.length);
            
            History.pushState({searchstring: "person"}, "looking for "+searchstring, "?person="+searchstring);   
         });
        </script>
</div>